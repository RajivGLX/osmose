<div class="container-compte">
    <div class="wrapper-compte d-flex flex-column">
        @if(currentUser | async; as user) {
            <div class="container-compte-infos d-flex">
                <div class="infos-user bloc-compte d-flex">
                    <div class="d-flex fisrt-bloc-infos">
                        <div class="img-user">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                                id="Capa_1" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
                                <g>
                                    <circle cx="256" cy="128" r="128" />
                                    <path
                                        d="M256,298.667c-105.99,0.118-191.882,86.01-192,192C64,502.449,73.551,512,85.333,512h341.333   c11.782,0,21.333-9.551,21.333-21.333C447.882,384.677,361.99,298.784,256,298.667z" />
                                </g>
                            </svg>
                        </div>
                        <div class="personal-infos d-flex flex-column">
                            <span class="user-name">{{user.firstname}} {{user.lastname | uppercase}}</span>
                            <span class="mail">Mail : {{user.email}}</span>
                            <span class="role">Rôle : {{user.roles[0]| traductionRole}}</span>
                        </div>
                    </div>
                    <div class="edit">
                        <svg xmlns="http://www.w3.org/2000/svg" id="Filled" viewBox="0 0 24 24">
                            <path
                                d="M1.172,19.119A4,4,0,0,0,0,21.947V24H2.053a4,4,0,0,0,2.828-1.172L18.224,9.485,14.515,5.776Z" />
                            <path
                                d="M23.145.855a2.622,2.622,0,0,0-3.71,0L15.929,4.362l3.709,3.709,3.507-3.506A2.622,2.622,0,0,0,23.145.855Z" />
                        </svg>
                    </div>
                </div>
                @if(user.roles[0] != 'ROLE_ADMIN_DIALYZONE'){
                    <div class="infos-etude bloc-compte d-flex">
                        <div class="d-flex fisrt-bloc-infos">
                            <div class="img-etude">
                                <svg id="Layer_1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1">
                                    <path
                                            d="m.291 8.552a2.443 2.443 0 0 1 .153-2.566 4.716 4.716 0 0 1 1.668-1.5l7.501-3.904a5.174 5.174 0 0 1 4.774 0l7.5 3.907a4.716 4.716 0 0 1 1.668 1.5 2.443 2.443 0 0 1 .153 2.566 2.713 2.713 0 0 1 -2.416 1.445h-18.584a2.713 2.713 0 0 1 -2.417-1.448zm22.709 13.448a2 2 0 0 0 -2-2v-8h-2v8h-3v-8h-2v8h-4v-8h-2v8h-3v-8h-2v8a2 2 0 0 0 -2 2 1 1 0 0 0 0 2h22a1 1 0 0 0 0-2z" />
                                </svg>
                            </div>
                            <div class="etude-infos d-flex flex-column">
                                <span class="center-name">{{user.administrator.centers[0].name}}</span>
                                <!-- <span class="num-siren">N° de SIREN : {{user.etude.siren}}</span> -->
                                <span class="address">{{user.administrator.centers[0].address}}</span>
                                <span class="zipcode">{{user.administrator.centers[0].zipcode}} {{user.administrator.centers[0].city}}</span>
                            </div>
                        </div>
                        <div class="edit">
                            <svg xmlns="http://www.w3.org/2000/svg" id="Filled" viewBox="0 0 24 24">
                                <path
                                        d="M1.172,19.119A4,4,0,0,0,0,21.947V24H2.053a4,4,0,0,0,2.828-1.172L18.224,9.485,14.515,5.776Z" />
                                <path
                                        d="M23.145.855a2.622,2.622,0,0,0-3.71,0L15.929,4.362l3.709,3.709,3.507-3.506A2.622,2.622,0,0,0,23.145.855Z" />
                            </svg>
                        </div>
                    </div>
                }
            </div>
            @if(checkRoles(['ROLE_ADMIN_DIALYZONE', 'ROLE_SUPER_ADMIN'])){
                <div class="container-onglet-categories">
                    <div class="categories">
                        <ul>
                            <li class="cat" (click)="switchOnglet(1)" [ngClass]="ongletToDisplay == 1 ? 'active' : ''">
                                Informations du compte
                            </li>
                            @if(user.roles[0] != 'ROLE_ADMIN_DIALYZONE'){
                                <li class="cat" (click)="switchOnglet(2)" [ngClass]="ongletToDisplay == 2 ? 'active' : ''">
                                    Gestion des utilisateurs
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            }
        @if(ongletToDisplay == 1){
            <app-update-profil [adminToUpdate]="currentUser"></app-update-profil>
        }
        @else if (ongletToDisplay == 2) {
            <app-gestion-user [user]="currentUser"></app-gestion-user>
        }


        }@else{
            <div class="wrapper-compte w-100 d-flex flex-column justify-content-center">
                <app-loader></app-loader>
            </div>
        }
    </div>
</div>

